
import math

import reciprocation.linearstrat as ls
import reciprocation.UCB as UCB
import reciprocation.genetic_alg as ga

print "repetitions,threshold,opponentloss"


for threshold in [math.sin((i+.5)*math.pi/20) for i in range(10)]:
    repetitions=10
    while repetitions < 10000:
        p1=ls.slopestrat(threshold)
        p2=UCB.TrackBucketUCB()
        result=ga.evaluate(p1,p2,int(repetitions),1.0,10)
        print "{},{},{}".format(int(repetitions),threshold,(2*math.sqrt(1-threshold**2)-result[2])*repetitions/2.0)
        repetitions=repetitions*1.5

"""
repetitions,threshold,opponentloss
10,0.0784590957278,2.32133489572
15,0.0784590957278,2.65957793578
22,0.0784590957278,3.17444439958
33,0.0784590957278,3.58551865529
50,0.0784590957278,4.55697694634
75,0.0784590957278,5.40381376415
113,0.0784590957278,6.64475116106
170,0.0784590957278,8.89701439599
256,0.0784590957278,10.8074509598
384,0.0784590957278,14.0747370808
576,0.0784590957278,17.0130230778
864,0.0784590957278,20.060851596
1297,0.0784590957278,25.0235942284
1946,0.0784590957278,29.8436438143
2919,0.0784590957278,36.6273911775
4378,0.0784590957278,43.8717198963
6568,0.0784590957278,53.1004486703
9852,0.0784590957278,64.6777450657
10,0.233445363856,2.69622731509
15,0.233445363856,3.13579081954
22,0.233445363856,3.59425156052
33,0.233445363856,4.12988277834
50,0.233445363856,5.15113878273
75,0.233445363856,5.83455553062
113,0.233445363856,7.08989962094
170,0.233445363856,8.98169835956
256,0.233445363856,11.4330731431
384,0.233445363856,14.1266952892
576,0.233445363856,17.1366529468
864,0.233445363856,20.2957017379
1297,0.233445363856,25.2881271095
1946,0.233445363856,31.2396801092
2919,0.233445363856,37.295043888
4378,0.233445363856,44.4302130747
6568,0.233445363856,53.4590339969
9852,0.233445363856,63.4035610348
10,0.382683432365,2.94516787915
15,0.382683432365,3.37772060079
22,0.382683432365,3.80894451266
33,0.382683432365,4.26686550236
50,0.382683432365,5.05439128914
75,0.382683432365,6.17673792161
113,0.382683432365,8.20832931498
170,0.382683432365,9.81750202005
256,0.382683432365,11.5154798305
384,0.382683432365,13.5063741142
576,0.382683432365,17.3250904266
864,0.382683432365,20.378520346
1297,0.382683432365,24.4287744102
1946,0.382683432365,28.8090819544
2919,0.382683432365,35.482899367
4378,0.382683432365,42.2104627493
6568,0.382683432365,50.9290633401
9852,0.382683432365,59.7319116407
10,0.522498564716,2.94142619935
15,0.522498564716,3.39531475155
22,0.522498564716,3.65586041057
33,0.522498564716,4.5402490949
50,0.522498564716,5.55734406021
75,0.522498564716,6.17263350181
113,0.522498564716,7.79241282432
170,0.522498564716,9.43797529895
256,0.522498564716,11.5852515662
384,0.522498564716,13.6943907213
576,0.522498564716,16.2081570188
864,0.522498564716,20.0418449644
1297,0.522498564716,25.1051363562
1946,0.522498564716,28.4990423993
2919,0.522498564716,34.5390133217
4378,0.522498564716,40.8207082842
6568,0.522498564716,48.0608899916
9852,0.522498564716,55.6862686857
10,0.64944804833,2.92337669512
15,0.64944804833,3.26303959337
22,0.64944804833,3.82538620017
33,0.64944804833,4.50303542914
50,0.64944804833,5.29092715066
75,0.64944804833,6.32876355014
113,0.64944804833,7.41522410864
170,0.64944804833,8.67687156783
256,0.64944804833,12.2294627191
384,0.64944804833,14.1666562074
576,0.64944804833,17.2384054442
864,0.64944804833,19.949738464
1297,0.64944804833,23.9145132103
1946,0.64944804833,28.9047507947
2919,0.64944804833,34.5514840849
4378,0.64944804833,40.2843411823
6568,0.64944804833,46.3526497434
9852,0.64944804833,54.1708189028
10,0.7604059656,2.71610186568
15,0.7604059656,3.09526853254
22,0.7604059656,3.57317565862
33,0.7604059656,4.06537310434
50,0.7604059656,4.93276795075
75,0.7604059656,5.99669396066
113,0.7604059656,7.79703308468
170,0.7604059656,9.16963741992
256,0.7604059656,10.697971751
384,0.7604059656,13.4980568443
576,0.7604059656,16.4554710794
864,0.7604059656,19.7653075922
1297,0.7604059656,24.2785043189
1946,0.7604059656,28.6753086336
2919,0.7604059656,33.3619823577
4378,0.7604059656,38.7316673448
6568,0.7604059656,45.6616986137
9852,0.7604059656,52.8689260757
10,0.852640164354,2.34999944441
15,0.852640164354,2.64011348392
22,0.852640164354,2.90098799154
33,0.852640164354,3.60504217937
50,0.852640164354,5.10543058508
75,0.852640164354,5.79196115748
113,0.852640164354,7.33389844729
170,0.852640164354,9.03747866665
256,0.852640164354,11.1405843866
384,0.852640164354,13.3424454258
576,0.852640164354,15.6733038675
864,0.852640164354,18.1264017536
1297,0.852640164354,22.3923304732
1946,0.852640164354,27.6044585362
2919,0.852640164354,32.6031969422
4378,0.852640164354,38.7654343187
6568,0.852640164354,46.6611600906
9852,0.852640164354,54.8910720067
10,0.923879532511,1.81042498328
15,0.923879532511,1.99298906248
22,0.923879532511,2.262811061
33,0.923879532511,3.26919900839
50,0.923879532511,4.6503310222
75,0.923879532511,5.71104604951
113,0.923879532511,7.14306197571
170,0.923879532511,9.26075971042
256,0.923879532511,11.596646005
384,0.923879532511,14.0972112331
576,0.923879532511,17.0705193291
864,0.923879532511,20.3882674306
1297,0.923879532511,24.5565633817
1946,0.923879532511,29.8622129432
2919,0.923879532511,36.8695492434
4378,0.923879532511,43.3269878646
6568,0.923879532511,50.041946739
9852,0.923879532511,60.4866031395
10,0.972369920398,1.13394120901
15,0.972369920398,1.34724718898
22,0.972369920398,1.87166888358
33,0.972369920398,2.63789203938
50,0.972369920398,3.56893780217
75,0.972369920398,5.32629900455
113,0.972369920398,6.91208396511
170,0.972369920398,9.05892747169
256,0.972369920398,12.3222500899
384,0.972369920398,15.3128550338
576,0.972369920398,18.0763691901
864,0.972369920398,22.1453850283
1297,0.972369920398,26.0725679841
1946,0.972369920398,31.2938792654
2919,0.972369920398,38.8663475942
4378,0.972369920398,45.6384614579
6568,0.972369920398,53.1237560629
9852,0.972369920398,64.3525714423
10,0.996917333733,0.187130294471
15,0.996917333733,0.322392914107
22,0.996917333733,0.668932380199
33,0.996917333733,1.06719903111
50,0.996917333733,1.83560299934
75,0.996917333733,3.05789291806
113,0.996917333733,4.4372216875
170,0.996917333733,6.39244233177
256,0.996917333733,8.98087746529
384,0.996917333733,12.9389471872
576,0.996917333733,17.1886778788
864,0.996917333733,22.2615252725
1297,0.996917333733,29.3168838492
1946,0.996917333733,36.4509705262
2919,0.996917333733,45.6098201485
4378,0.996917333733,55.3692274921
6568,0.996917333733,73.4749910233
9852,0.996917333733,86.0827998562
"""